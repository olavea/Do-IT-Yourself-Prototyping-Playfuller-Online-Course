(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[109],{11661:function(e,t,a){"use strict";a.r(t);var n=a(464);a.d(t,"default",function(){return n["a"]})},11811:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(0));var l=n(a(21));var o=r.default.createContext({uploadFiles:l.default,validateFiles:l.default});var i=o;t.default=i;e.exports=t.default},12159:function(e,t,a){var n=a(13750);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},12160:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n={MANUAL:"manual",URL:"url"};var r=n;t.default=r;e.exports=t.default},12161:function(e,t,a){"use strict";var n=a(4);var f=n(a(5));var p=n(a(19));var m=n(a(27));var l=n(a(8));var o=n(a(9));var i=n(a(6));var s=n(a(10));var d=n(a(11));var u=n(a(7));var g=n(a(2));function c(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,d.default)(this,t)}}var v=a(15);var r=a(1);var h=a(0);var I=a(426),y=I.DragTrigger;var b=a(872);var C=a(639);var E=a(754),S=E.addScrollListenerToParents,x=E.removeScrollListenerFromParents;var D=a(1338);var P=a(425);var k=a(12162);var w=function e(t,a){return t.right>=a.left&&t.left<=a.right&&t.bottom>=a.top&&t.top<=a.bottom};var R=function(e){(0,s.default)(r,e);var n=c(r);function r(){var p;(0,l.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];p=n.call.apply(n,[this].concat(t));(0,g.default)((0,i.default)(p),"state",{isDragging:false,itemsMap:null,selectionCoords:null,selectedItemIndexes:[],mouseXY:null,anchorXY:null});(0,g.default)((0,i.default)(p),"onDrag",P(function(e){var t=e.mouseX,a=e.mouseY,n=e.maxX,r=e.maxY,l=e.minX,o=e.minY;var i=p.state,s=i.itemsMap,d=i.anchorXY;if(!s)return;var u=[C(t,l,n),C(a,o,r)];var c=p.calculateSelectionCoords(u,d);var f=p.getContainedOrIntersectedItems(c);p.setState({mouseXY:u,selectionCoords:c,selectedItemIndexes:f})},30));return p}(0,o.default)(r,[{key:"componentDidMount",value:function e(){this.coordsTracker=new b(this.refs.container)}},{key:"shouldComponentUpdate",value:function e(t,a){return this.state.isDragging!==a.isDragging||this.state.selectionCoords!==a.selectionCoords}},{key:"componentDidUpdate",value:function e(t,a){var n=this.state.isDragging;n&&this.fireSelectionChange(a.selectedItemIndexes)}},{key:"componentWillUnmount",value:function e(){var t=this.state,a=t.itemsMap,n=t.isDragging;a&&a.forEach(function(e){var t=e.coordsTracker;return t.destroy()});this.coordsTracker.destroy();this.coordsTracker=null;n&&x(this.refs.container,this.udpateCoordsOnScroll)}},{key:"fireSelectionChange",value:function e(t){var a=this.state.selectedItemIndexes;var n=this.props.items;var r=D(a,t);var l=D(t,a);(r.length>0||l.length>0)&&this.props.onSelectionChange({added:r.map(function(e){return n[e]}),removed:l.map(function(e){return n[e]})})}},{key:"udpateCoordsOnScroll",value:function e(t,a){var n=this.state,r=n.mouseXY,l=n.anchorXY;var o=[l[0]+t,l[1]+a];this.setState({anchorXY:o,selectionCoords:this.calculateSelectionCoords(r,o)})}},{key:"onDragStart",value:function e(t){var a=t.startX,n=t.startY;var r=this.props,l=r.items,o=r.itemNodesGetter,e=r.onDragStart;this.coordsTracker.resetCoords();S(this.refs.container,this.udpateCoordsOnScroll);this.setState({isDragging:true,selectionCoords:null,itemsMap:o(l).map(function(e,t){return{index:t,coordsTracker:new b(e)}}),anchorXY:[a,n],mouseXY:[a,n]});e&&e.apply(void 0,arguments)}},{key:"calculateSelectionCoords",value:function e(t,a){var n=(0,m.default)(t,2),r=n[0],l=n[1];var o=(0,m.default)(a,2),i=o[0],s=o[1];var d;var u;var c;var f;if(i<=r){c=i;f=r}else{c=r;f=i}if(s<=l){d=s;u=l}else{d=l;u=s}return{top:d,left:c,bottom:u,right:f}}},{key:"getContainedOrIntersectedItems",value:function e(n){var t=this.state.itemsMap;if(t)return t.filter(function(e){var t=e.index,a=e.coordsTracker;return w(a.getCoords(),n)}).map(function(e){var t=e.index;return t});return[]}},{key:"onDragEnd",value:function e(){var t=this.state,a=t.itemsMap,n=t.selectedItemIndexes;var r=this.props,e=r.onDragEnd,l=r.items;a&&a.forEach(function(e){var t=e.coordsTracker;return t.destroy()});x(this.refs.container,this.udpateCoordsOnScroll);this.setState({isDragging:false,itemsMap:null,selectedItemIndexes:[],mouseXY:null,anchorXY:null});e&&e.apply(void 0,[{selectedItems:n.map(function(e){return l[e]})}].concat(Array.prototype.slice.call(arguments)))}},{key:"getAbsolutePosition",value:function e(t){var a=this.coordsTracker.getCoords();return{top:t.top-a.top,left:t.left-a.left,bottom:a.bottom-t.bottom,right:a.right-t.right}}},{key:"render",value:function e(){var t=this;var a=this.state,n=a.isDragging,r=a.selectionCoords;var l=this.props,o=l.className,i=l.children,s=(0,p.default)(l,["className","children"]);delete s.items;delete s.itemNodesGetter;delete s.onSelectionChange;var d=v(k.container,o,(0,g.default)({},k.dragging,n));var u=v(k.selection,n&&k.visible);var c=r?this.getAbsolutePosition(r):null;return h.createElement(y,(0,f.default)({key:"trigger",constraint:function e(){return t.refs.container}},s,{onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragEnd:this.onDragEnd.bind(this),autoScroll:{vertical:true}}),h.createElement("div",{ref:"container",key:"container",className:d},i,h.createElement("div",{key:"selection",className:u,style:c})))}}]);return r}(h.Component);(0,g.default)(R,"propTypes",{items:r.array.isRequired,itemNodesGetter:r.func.isRequired,onSelectionChange:r.func,onDragStart:r.func,onDragEnd:r.func});(0,g.default)(R,"defaultProps",{itemNodesGetter:function e(){return[]},items:[],onSelectionChange:function e(){}});(0,g.default)(R,"itemClassName",k.item);e.exports=R},12162:function(e,t,a){var n=a(12163);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},12163:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".DragSelection-container-CBfko {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  -webkit-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: default;\n}\n.DragSelection-container-CBfko.DragSelection-dragging-2sGNZ {\n  z-index: 10;\n}\n.DragSelection-selection-2js8t {\n  position: absolute;\n  background: rgba(166, 166, 166, 0.2);\n  border: solid 1px #C0C0C0;\n  display: block;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.16s cubic-bezier(0.645, 0.045, 0.355, 1), visibility 0s linear 0.2s;\n  z-index: 10;\n}\n.DragSelection-selection-2js8t.DragSelection-visible-g3fgA {\n  opacity: 1;\n  visibility: visible;\n  transition: opacity 0.16s cubic-bezier(0.645, 0.045, 0.355, 1);\n}\n.DragSelection-item-2EEHz {\n  z-index: 1;\n  -webkit-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\nhtml.browser-msie .DragSelection-container-CBfko,\nhtml.browser-msie .DragSelection-selection-2js8t {\n  z-index: 0 !important;\n}\n",""]);t.locals={container:"DragSelection-container-CBfko",dragging:"DragSelection-dragging-2sGNZ",selection:"DragSelection-selection-2js8t",visible:"DragSelection-visible-g3fgA",item:"DragSelection-item-2EEHz"}},12427:function(e,t,a){"use strict";a.r(t);var n=a(521);a.d(t,"default",function(){return n["a"]})},12428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(53);var r=a(32);var l=function e(){var t=(0,r.getBreakpoint)(n.breakpoints),a=t.platform;return"mobile"===a};t.default=l;e.exports=t.default},12429:function(e,t,a){var n=a(13767);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13735:function(e,t,a){"use strict";var n=a(36);var r=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a(27));var d=r(a(40));var l=r(a(8));var o=r(a(9));var u=r(a(6));var i=r(a(10));var c=r(a(11));var f=r(a(7));var p=r(a(2));var m=n(a(0));var g=r(a(214));var v=r(a(100));var h=r(a(1));var I=r(a(452));var y=a(30);var b=r(a(11661));var C=r(a(795));var E=r(a(15));var S=a(1515);var x=a(1517);var D=r(a(1246));var P=r(a(1332));var k=r(a(13736));var w=r(a(13759));var R=r(a(13768));var O=a(13770);var L=r(a(13771));var M=r(a(13772));var T=a(13774);var F=a(149);function U(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?U(Object(a),true).forEach(function(e){(0,p.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function B(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,f.default)(n),t;if(r()){var a=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var N=230;var j=function(e){(0,i.default)(r,e);var n=B(r);function r(){var i;(0,l.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=n.call.apply(n,[this].concat(t));(0,p.default)((0,u.default)(i),"state",{galleryId:i.props.galleryId,selectedImages:[],items:[],uploadingFilesMap:new Map,shouldDelete:null,deletionMessages:{},isDirty:false,dropZoneEnabled:false,isInitialized:false,storedSection:null,isBackspaceToDeleteEnabled:true,mobileSwitchToContent:false,mobileShowDetail:false});(0,p.default)((0,u.default)(i),"lastImageSelected",null);(0,p.default)((0,u.default)(i),"dropzonePortalContainerRef",m.default.createRef());(0,p.default)((0,u.default)(i),"setViewportHeight",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))});(0,p.default)((0,u.default)(i),"handleKeyUp",function(e){C.default.isBackspaceKey(e)&&i.state.isBackspaceToDeleteEnabled&&document.activeElement===document.body&&i.deleteSelectedImages()});(0,p.default)((0,u.default)(i),"setIsBackspaceToDeleteEnabled",function(e){i.setState({isBackspaceToDeleteEnabled:e})});(0,p.default)((0,u.default)(i),"loadImages",(0,T.withCanceledState)(function(e){var t=e.makeCancelablePromise,a=e.makeCancelableCallback;return function(){if(!i.props.galleryId)return;i.loadImageTimeout=setTimeout(a(function(){if(!i.props.galleryId)return;i.setState({isInitialized:false,error:null});t(I.default.get("/api/content-collections/".concat(i.props.galleryId,"/content-items"))).then(function(e){var t=e.data.results;t&&i.setState({items:t,isInitialized:true,selectedImages:i.updateSelection(t)})}).catch(function(e){i.setState({error:{type:O.FAILED_TO_LOAD_IMAGES,reload:i.loadImages}})})}),10)}}));(0,p.default)((0,u.default)(i),"cancelDeletion",function(){i.setState({shouldDelete:null})});(0,p.default)((0,u.default)(i),"doDeleteImages",(0,T.withCanceledState)(function(e){var t=e.makeCancelablePromise;return function(){var n=i.state.shouldDelete;if(null===n)return;Array.isArray(n)?t(P.default.deleteMany(n)).then(function(){i.setState(function(e){var t=e.items;return{items:t.filter(function(e){var t=e.id;return!n.includes(t)}),selectedImages:[]}});i.handleOnChange()}):t(P.default.delete(n)).then(function(){i.setState(function(e){var t=e.items,a=e.selectedImages;return{items:t.filter(function(e){var t=e.id;return t!==n}),selectedImages:1===a.length?[]:a}});i.handleOnChange()});i.setState({shouldDelete:null})}}));(0,p.default)((0,u.default)(i),"deleteItem",function(e,t){var a=t?"image":"video";i.setState({shouldDelete:e,deletionMessages:{title:L.default.singleTitle[a],message:L.default.singleDetail[a]}})});(0,p.default)((0,u.default)(i),"deleteSelectedImages",function(){if(!i.state.selectedImages.length)return;var e=i.state.selectedImages.map(function(e){var t=e.id;return t}).filter(function(e){return null!==e});var t=i.getDeleteTypeText();i.setState({shouldDelete:e,deletionMessages:{title:L.default.multipleTitle[t],message:L.default.multipleDetail[t]}})});(0,p.default)((0,u.default)(i),"getDeleteTypeText",function(){var t=0;i.state.selectedImages.forEach(function(e){e.recordType!==F.IMAGE&&t++});var e=t===i.state.selectedImages.length?"video":0===t?"image":"mixed";return e});(0,p.default)((0,u.default)(i),"onRequestClose",function(){var e=i.state.storedSection;if(!e)return;i.lastImageSelected=null;i.saveImageDetailsIfDirty();D.default.setIsGalleryContentEditorOpen({isGalleryContentEditorOpen:false});i.setState({sourceDropDownPosition:null,selectedImages:[],isDirty:false,dropZoneEnabled:false,storedSection:null})});(0,p.default)((0,u.default)(i),"updateFocalPoint",(0,v.default)(function(e,t){P.default.updateField(e.id,"mediaFocalPoint",t).then(function(){i.handleOnChange(false)})},250));(0,p.default)((0,u.default)(i),"handleFocalPointChange",function(n){if(i.state.selectedImages&&1===i.state.selectedImages.length){i.setState(function(e){var t=e.selectedImages,a=e.items;return{selectedImages:[A({},t[0],{mediaFocalPoint:n})],items:a.map(function(e){return t[0].id===e.id?A({},t[0],{mediaFocalPoint:n}):e})}});i.updateFocalPoint(i.state.selectedImages[0],n)}});(0,p.default)((0,u.default)(i),"handleOnChange",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t=i.props.section;e&&i.loadImages();D.default.setSectionSettings(A({sectionId:t.id},t||{},{galleryOptions:A({},t.galleryOptions,{lastUpdate:Date.now()})}))});(0,p.default)((0,u.default)(i),"addFileToUploadList",function(a,n){i.setState(function(e){var t=e.uploadingFilesMap;t.set(a,n);return{uploadingFilesMap:t}})});(0,p.default)((0,u.default)(i),"removeFromUploadList",function(a){i.setState(function(e){var t=e.uploadingFilesMap;t.delete(a);return{uploadingFilesMap:t}})});(0,p.default)((0,u.default)(i),"onImageDetailChanges",function(r){1===i.state.selectedImages.length&&i.setState(function(e){var t=e.items,a=e.selectedImages;var n=a[0];return{items:t.map(function(e){return n===e?r:e}),selectedImages:[r],isDirty:true}})});(0,p.default)((0,u.default)(i),"onGalleryIdChanges",function(e){D.default.setSectionSettings(A({sectionId:i.props.section.id},i.props.section||{},{galleryOptions:A({},i.props.section.galleryOptions,{transientGalleryId:e})}))});(0,p.default)((0,u.default)(i),"onSelectImages",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=i.state.selectedImages?(0,d.default)(i.state.selectedImages):[];e=Array.isArray(e)?e:[e];i.saveImageDetailsIfDirty();if(n&&1===e.length&&r.length&&null!==i.lastImageSelected){i.onSelectImagesRange(e[0]);return}if(a){i.lastImageSelected={item:(0,g.default)(e),isSelected:!r.includes((0,g.default)(e))};e.forEach(function(t){var e=r.includes(t);e?r=r.filter(function(e){return e!==t}):r.push(t)})}else{r=e;i.lastImageSelected={item:(0,g.default)(r),isSelected:true}}i.setState({selectedImages:r.filter(function(e){return e&&e.id}),isDirty:false});!t&&i.mobileShowDetail&&i.setState({mobileSwitchToContent:true})});(0,p.default)((0,u.default)(i),"mobileSwitchToPicker",function(){i.setState({mobileSwitchToContent:false})});(0,p.default)((0,u.default)(i),"setSelectedImages",function(e){i.setState({selectedImages:e})});(0,p.default)((0,u.default)(i),"clearSelection",function(){i.saveImageDetailsIfDirty();i.lastImageSelected=null;i.setState({selectedImages:[]})});(0,p.default)((0,u.default)(i),"resetSelection",function(){if(i.state.selectedImages&&i.state.selectedImages.length)return;var e=[i.state.items[0]];i.lastImageSelected={item:i.state.items[0],selected:true};i.setState({selectedImages:e})});(0,p.default)((0,u.default)(i),"selectPreviousImage",function(){if(!i.isFirstImageSelected()){i.saveImageDetailsIfDirty();i.setState(function(e){var t=e.items,a=e.selectedImages;var n=Math.max(0,t.findIndex(function(e){return a[0].id===e.id})-1);return{selectedImages:[t[n]],isDirty:false}})}});(0,p.default)((0,u.default)(i),"selectNextImage",function(){if(!i.isLastImageSelected()){i.saveImageDetailsIfDirty();i.setState(function(e){var t=e.items,a=e.selectedImages;var n=Math.min(t.length-1,t.findIndex(function(e){return a[0].id===e.id})+1);return{selectedImages:[t[n]],isDirty:false}})}});(0,p.default)((0,u.default)(i),"onReorder",function(e,t){var a=i.state.items;var n=(0,d.default)(e);n.sort(function(e,t){var a=(0,s.default)(e,2),n=a[0],r=a[1];var l=(0,s.default)(t,2),o=l[0],i=l[1];return r>i?1:-1});var r=n[0][1];var l;r>0&&(l=a[r-1].id);var o=n.map(function(e){var t=(0,s.default)(e,2),a=t[0],n=t[1];return a.id});i.setState({items:t});P.default.reorderItems(i.props.galleryId,o,l,t.map(function(e){var t=e.id;return t})).then(function(){return i.handleOnChange(false)})});(0,p.default)((0,u.default)(i),"onDragEnter",function(){return i.setState({dropZoneEnabled:true})});(0,p.default)((0,u.default)(i),"disableDropZone",function(){return i.setState({dropZoneEnabled:false})});return i}(0,o.default)(r,[{key:"componentDidMount",value:function e(){this.loadImages();document.addEventListener("keyup",this.handleKeyUp);window.addEventListener("resize",this.setViewportHeight);this.setViewportHeight()}},{key:"componentDidUpdate",value:function e(t){t.galleryId!==this.props.galleryId&&this.loadImages()}},{key:"getSnapshotBeforeUpdate",value:function e(t){var a=this;t.isGalleryContentEditorOpen&&!this.props.isGalleryContentEditorOpen&&this.state.storedSection&&(this.cleanupFallbackTimeout=setTimeout(function(){a.onRequestClose()}));return null}},{key:"componentWillUnmount",value:function e(){if(this.cleanupFallbackTimeout){clearTimeout(this.cleanupFallbackTimeout);this.cleanupFallbackTimeout=null}if(this.loadImageTimeout){clearTimeout(this.loadImageTimeout);this.loadImageTimeout=null}this.loadImages.cancel();this.updateFocalPoint.cancel();this.doDeleteImages.cancel();document.removeEventListener("keyup",this.handleKeyUp);this.lastImageSelected=null;window.removeEventListener("resize",this.setViewportHeight)}},{key:"updateSelection",value:function e(a){if(0===this.state.selectedImages.length){if(a.length){this.lastImageSelected={item:a[0],isSelected:true};return[a[0]]}return[]}return this.state.selectedImages.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.id;if(!t)return null;return a.find(function(e){return e.id===t})}).filter(function(e){return null!==e})}},{key:"saveImageDetailsIfDirty",value:function e(){if(!this.state.isDirty||1!==this.state.selectedImages.length)return;var t={recordType:F.IMAGE};var a=this.state.selectedImages[0];P.default.updateForCollection(a,t).catch(function(e){return console.error(e)});this.handleOnChange(false)}},{key:"onSelectImagesRange",value:function e(t){var a=this;var n=this.state,r=n.selectedImages,l=n.items;var o=r;var i=l.findIndex(function(e){return a.lastImageSelected.item===e});var s=l.findIndex(function(e){return t===e});if(-1===i||-1===s)return null;var d=l.slice(Math.min(i,s),Math.max(i,s)+1);if(this.lastImageSelected.isSelected&&!o.includes(t)){d=d.filter(function(e){return!r.includes(e)});o=[].concat(o,d)}else o=o.filter(function(e){return!d.includes(e)});this.lastImageSelected.item=t;this.setState({selectedImages:o.filter(function(e){return e&&e.id}),isDirty:false})}},{key:"isFirstImageSelected",value:function e(){return 1===this.state.selectedImages.length&&this.state.selectedImages[0]===this.state.items[0]}},{key:"isLastImageSelected",value:function e(){return 1===this.state.selectedImages.length&&this.state.selectedImages[0]===(0,g.default)(this.state.items)}},{key:"render",value:function e(){var t=this.props,a=t.isGalleryContentEditorOpen,n=t.galleryId;return m.default.createElement(y.Modal.Transition,{duration:N},a&&m.default.createElement(y.Modal,{className:R.default.noPointerEvents,lockScroll:false,closeOnEsc:true,closeOnOverlayClicked:true,onRequestClose:this.onRequestClose},m.default.createElement(y.Modal.Overlay,{className:R.default.noPointerEvents}),m.default.createElement(y.Modal.Position,{className:R.default.noPointerEvents,draggable:true,position:"center",constrainTo:"window"},m.default.createElement(y.Modal.Dialog,{className:R.default.dialogContainer},m.default.createElement("div",{onDragEnter:this.onDragEnter,className:R.default.innerContainer},m.default.createElement(M.default,{collectionId:n,items:this.state.items,maxFileSizeMb:S.MAX_SIZE,validMimeTypes:x.IMAGE_MIME_TYPES,onCollectionIdCreated:this.onGalleryIdChanges,onStartUploadingFile:this.addFileToUploadList,handleOnChange:this.handleOnChange,uploadingFilesMap:this.state.uploadingFilesMap,dropzonePortalContainerRef:this.dropzonePortalContainerRef,onSelectImages:this.onSelectImages},m.default.createElement("div",{className:(0,E.default)(R.default.panel,(0,p.default)({},R.default.hide,this.state.mobileSwitchToContent))},m.default.createElement(k.default,{isInitialized:this.state.isInitialized,galleryId:n,onRequestClose:this.onRequestClose,onChange:this.handleOnChange,onGalleryIdChanges:this.onGalleryIdChanges,onSelectImages:this.onSelectImages,setSelectedImages:this.setSelectedImages,clearSelection:this.clearSelection,resetSelection:this.resetSelection,selectedImages:this.state.selectedImages,onReorder:this.onReorder,deleteItem:this.deleteItem,items:this.state.items,uploadingFilesMap:this.state.uploadingFilesMap,removeFromUploadList:this.removeFromUploadList,dropZoneEnabled:this.state.dropZoneEnabled,disableDropZone:this.disableDropZone,error:this.state.error,mobileHidePicker:this.state.mobileSwitchToContent})),m.default.createElement("div",{className:R.default.panel},m.default.createElement(w.default,{selectedImages:this.state.selectedImages,images:this.state.items,deleteSelectedImages:this.deleteSelectedImages,selectPreviousImage:this.selectPreviousImage,selectNextImage:this.selectNextImage,isFirstImage:this.isFirstImageSelected(),isLastImage:this.isLastImageSelected(),delete:this.deleteSelectedImages,onImageDetailChanges:this.onImageDetailChanges,onFocalPointChange:this.handleFocalPointChange,setIsBackspaceToDeleteEnabled:this.setIsBackspaceToDeleteEnabled,mobileSwitchToPicker:this.mobileSwitchToPicker})),m.default.createElement(b.default,{isOpen:null!==this.state.shouldDelete,title:this.state.deletionMessages.title,message:this.state.deletionMessages.message,onConfirm:this.doDeleteImages,onDismiss:this.cancelDeletion,onRequestClose:this.cancelDeletion,cancelStyle:"default",confirmStyle:"default"}),m.default.createElement("div",{ref:this.dropzonePortalContainerRef})))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,a){var n=null;if(t.section&&(!a.storedSection||t.section.id!==a.storedSection.id)){n=n||{};n.storedSection=t.section}if(t.galleryId!==a.galleryId){n=n||{};n.galleryId=t.galleryId;n.items=[];n.isInitialized=!t.galleryId;n.error=null;n.storedSection=t.section}return n}}]);return r}(m.Component);t.default=j;(0,p.default)(j,"propTypes",{isGalleryContentEditorOpen:h.default.bool.isRequired,cloneable:h.default.bool});e.exports=t.default},13736:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=n(a(40));var l=n(a(8));var o=n(a(9));var i=n(a(6));var s=n(a(10));var u=n(a(11));var c=n(a(7));var p=n(a(2));var P=n(a(0));var m=n(a(100));var g=n(a(1433));var k=n(a(12427));var f=n(a(1436));var w=n(a(13737));var R=n(a(2890));var O=n(a(13738));var L=n(a(13739));var M=n(a(13740));var T=n(a(13741));var F=a(24);var v=a(664);var h=n(a(3439));var r=n(a(13742));var U=n(a(13743));var A=n(a(13745));var I=n(a(13749));var y=n(a(13751));var B=n(a(12428));var N=n(a(13756));var b=n(a(12160));var C=a(149);var E=n(a(114));var S=n(a(87));function x(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(n),t;if(r()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,u.default)(this,t)}}var D=a(12161);var j=E.default.isFeatureEnabled(S.default.GALLERY_VIDEOS_71);var G=function(e){(0,s.default)(r,e);var n=x(r);function r(){var f;(0,l.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];f=n.call.apply(n,[this].concat(t));(0,p.default)((0,i.default)(f),"state",{sourceDropDownAnchor:null,isDraggingImages:false,hasFailed:false,mobileEditMode:false,videoUploadModalOpen:false,embedType:b.default.URL,videoLink:"",oembed:null,embedCode:"",videoError:false});(0,p.default)((0,i.default)(f),"addImageBtnRef",P.default.createRef());(0,p.default)((0,i.default)(f),"failures",[]);(0,p.default)((0,i.default)(f),"uploaderRef",P.default.createRef());(0,p.default)((0,i.default)(f),"container",P.default.createRef());(0,p.default)((0,i.default)(f),"openSourceDropDown",function(e){var t="BUTTON"===e.target.tagName?e.target:e.target.closest("button");f.setState({sourceDropDownAnchor:t})});(0,p.default)((0,i.default)(f),"onRequestCloseSourceDropDown",function(){f.setState({sourceDropDownAnchor:null})});(0,p.default)((0,i.default)(f),"openLicencedImagePicker",function(){f.setState({sourceDropDownAnchor:null});f.uploaderRef.current&&f.uploaderRef.current.openLicensedImagePicker()});(0,p.default)((0,i.default)(f),"openLocalImagePicker",function(){f.setState({sourceDropDownAnchor:null});f.uploaderRef.current&&f.uploaderRef.current.openFileInput()});(0,p.default)((0,i.default)(f),"updateItems",(0,m.default)(function(){f.props.onChange()},250));(0,p.default)((0,i.default)(f),"handleFailures",function(){if(!f.failures||!f.failures.length)return;var e=f.props.uploads;var t=e.filter(function(e){var t=e.token,a=e.status;return a!==v.SUCCESS&&a!==v.CANCELLED&&a!==v.FAILURE});if(t.length)return;f.setState({hasFailed:true})});(0,p.default)((0,i.default)(f),"retryUpload",function(){var e=f.failures.map(function(e){var t=f.props.uploadingFilesMap.get(e);f.props.removeFromUploadList(e);return t});f.uploaderRef.current&&f.uploaderRef.current.onFileUploaderChanges(e);f.failures=[];f.setState({hasFailed:false})});(0,p.default)((0,i.default)(f),"clearFailures",function(){f.failures.forEach(function(e){f.props.removeFromUploadList(e)});f.failures=[];f.setState({hasFailed:false})});(0,p.default)((0,i.default)(f),"onProcessingStatusHasChanged",function(e,t){t===v.SUCCESS&&f.updateItems();t!==v.SUCCESS&&t!==v.CANCELLED||f.props.removeFromUploadList(e);t===v.FAILURE&&f.failures.push(e);f.handleFailures()});(0,p.default)((0,i.default)(f),"getItemNodesForDragSelection",function(){if(!f.container.current)return;return Array.from(f.container.current.querySelectorAll('[data-selectable="true"]'))});(0,p.default)((0,i.default)(f),"onDragSelectionChange",function(e){var t=e.added,a=e.removed;f.props.onSelectImages([].concat((0,d.default)(t),(0,d.default)(a)),f.state.mobileEditMode,true)});(0,p.default)((0,i.default)(f),"onDragSelectionMouseDown",function(e){e.metaKey||e.ctrlKey||e.shiftKey||f.props.clearSelection()});(0,p.default)((0,i.default)(f),"renderUploading",function(e,t){var a=f.props,n=a.uploads,r=a.uploadingFilesMap;return P.default.createElement(y.default,{currentUploadedImages:n,done:e.done,uploadState:e,uploadToken:e.token,file:r.get(e.token,{}),onProcessingStatusHasChanged:f.onProcessingStatusHasChanged,itemIndex:t})});(0,p.default)((0,i.default)(f),"renderImage",function(n,e,t,a){var r=f.state,l=r.isDraggingImages,o=r.mobileEditMode;var i=f.props,s=i.selectedImages,d=i.onSelectImages,u=i.deleteItem;if(n.token)return f.renderUploading(n,a);var c=s.length>1;return P.default.createElement(I.default,{src:n.coverImageUrl,className:t.isDragging||l&&n.isSelected?U.default.draggedImage:void 0,isSelected:!!s.find(function(e){var t=e.id;return n.id===t}),delete:u,id:n.id,onSelectImage:function e(t,a){d([n],o,t,a)},withoutDeleteButton:c||l,mobileEditMode:o,isImage:n.recordType===C.IMAGE,selectedCount:s.length})});(0,p.default)((0,i.default)(f),"getReorderableGroupItems",(0,g.default)(function(e,t){return[].concat(e,t).filter(function(e){return e})}));(0,p.default)((0,i.default)(f),"switchToMobileEditMode",function(){f.setState({mobileEditMode:true,sourceDropDownAnchor:null})});(0,p.default)((0,i.default)(f),"handleMobileButtonClicked",function(e){f.state.mobileEditMode?f.setState({mobileEditMode:false}):f.openSourceDropDown(e)});(0,p.default)((0,i.default)(f),"setVideoUploadModalStatus",function(e){f.setState({videoUploadModalOpen:e,videoLink:"",oembed:null,embedCode:"",videoError:false})});(0,p.default)((0,i.default)(f),"setEmbedType",function(e){f.setState({embedType:e})});(0,p.default)((0,i.default)(f),"handleUrlEmbedChange",function(e){f.setState({oembed:e,videoLink:e.url||"",videoError:false})});(0,p.default)((0,i.default)(f),"handleEmbedCodeChange",function(e){var t={html:e,resolvedBy:b.default.MANUAL};f.setState({oembed:t,embedCode:e})});(0,p.default)((0,i.default)(f),"onAddVideo",function(){if(f.state.oembed&&f.state.oembed.resolved){if(f.uploaderRef.current){f.uploaderRef.current.onVideoAdded(f.state.oembed,f.state.embedType);f.setVideoUploadModalStatus(false);f.setState({videoError:false})}}else f.setState({videoError:true})});return f}(0,o.default)(r,[{key:"componentWillUnmount",value:function e(){this.updateItems.cancel&&this.updateItems.cancel()}},{key:"renderImageList",value:function e(){var a=this;var t=this.props,n=t.items,r=t.onReorder,l=t.selectedImages,o=t.uploads,i=t.setSelectedImages;var s=U.default.imageList+(this.state.mobileEditMode?" edit-on":" edit-off");return P.default.createElement(P.default.Fragment,null,P.default.createElement(h.default,{watchExtraChildItems:true,className:s,proxyClassName:U.default.dragProxy,childItems:this.getReorderableGroupItems(n,o),childItemRenderer:this.renderImage,getChildKeyFromItem:function e(t){return t.token?t.token.getId():t.id},onDragEnd:function e(){a.setState({isDraggingImages:false});var t=l&&l.length?(0,d.default)(l):[];i(t)},onDragStart:function e(t){a.setState({isDraggingImages:true});if(!l.find(function(e){return e&&e.id===t.id})){a.props.clearSelection();a.props.onSelectImages([t],a.state.mobileEditMode,false)}},onReorder:r,itemsToMultiReorder:l,useOverwriteCount:true}),P.default.createElement("div",{className:U.default.dragSelectionContainer},P.default.createElement(D,{key:"dragSelection",items:n,itemNodesGetter:this.getItemNodesForDragSelection,onMouseDown:this.onDragSelectionMouseDown,onSelectionChange:this.onDragSelectionChange,onDragEnd:this.props.resetSelection})))}},{key:"renderErrorIfNeeded",value:function e(t){var a=this.props.items;if(!t)return null;var n=(0,F.t)("Something went wrong.");var r=(0,F.t)("Reload");if(!a||!a.length)return P.default.createElement("div",{className:U.default.errorWhenLoading},P.default.createElement("p",null,n),t.reload?P.default.createElement(f.default,{color:"primary",onClick:t.reload},r):null);return P.default.createElement("div",{className:U.default.errorWhenRefreshing},P.default.createElement("p",null,n),t.reload?P.default.createElement(f.default,{color:"primary",onClick:t.reload},r):null)}},{key:"render",value:function e(){var t=this;var a=this.props,n=a.disableDropZone,r=a.dropZoneEnabled,l=a.error,o=a.isInitialized,i=a.items,s=a.onRequestClose,d=a.uploads;var u=this.state,c=u.videoUploadModalOpen,f=u.videoLink,p=u.embedType,m=u.embedCode,g=u.videoError,v=u.oembed;var h=i.length||(d||[]).length;var I=(0,F.t)("Drag to Reorder");var y=(0,F.t)("Gallery Manager");var b=(0,F.t)("Gallery");var C=(0,F.t)("Done");var E=(0,F.t)("Edit");var S=(0,F.t)("Close");var x=(0,B.default)()?this.state.mobileEditMode?I:y:b;var D=this.state.mobileEditMode?C:E;return P.default.createElement("div",{className:U.default.imagePicker,onDragEnter:this.onDragEnter},P.default.createElement(k.default,null,P.default.createElement(k.default.Left,null,P.default.createElement(k.default.Button,{className:U.default.mobileToolbarButton,label:S,onClick:s})),P.default.createElement(k.default.Center,null,P.default.createElement(k.default.Title,{className:U.default.mobileToolbarTitle},x)),P.default.createElement(k.default.Right,null,!(0,B.default)()&&P.default.createElement(k.default.IconButton,{ref:this.addImageBtnRef,name:"addBlock",onClick:this.openSourceDropDown}),(0,B.default)()&&P.default.createElement(k.default.Button,{label:D,onClick:this.handleMobileButtonClicked,className:U.default.mobileToolbarButton}))),this.state.sourceDropDownAnchor&&P.default.createElement(R.default,{anchor:this.state.sourceDropDownAnchor,hideArrow:true,position:"bottom",isOpen:true,closeOnClickOutside:true,bodyClassName:U.default.popover,onRequestClose:this.onRequestCloseSourceDropDown},(0,B.default)()&&P.default.createElement("button",{className:U.default.iconButton,onClick:this.switchToMobileEditMode},P.default.createElement("img",{className:U.default.editIcon,src:M.default,alt:""}),P.default.createElement("p",{className:U.default.iconText},(0,F.t)("Manage Images"))),!(0,B.default)()&&P.default.createElement("button",{className:U.default.iconButton,onClick:this.openLicencedImagePicker},P.default.createElement("img",{className:U.default.searchIcon,src:L.default,alt:""}),P.default.createElement("p",{className:U.default.iconText},(0,F.t)("Search Images"))),P.default.createElement("button",{className:U.default.iconButton,onClick:this.openLocalImagePicker},P.default.createElement("img",{className:U.default.uploadIcon,src:O.default,alt:""}),P.default.createElement("p",{className:U.default.iconText},(0,F.t)("Upload Images"))),j&&P.default.createElement("button",{className:U.default.iconButton,onClick:function e(){return t.setVideoUploadModalStatus(true)}},P.default.createElement("img",{className:U.default.videoIcon,src:T.default,alt:""}),P.default.createElement("p",{className:U.default.iconText},(0,F.t)("Add Video")))),P.default.createElement("div",{className:U.default.body,ref:this.container},this.renderImageList(),!l&&o?P.default.createElement(A.default,{ref:this.uploaderRef,items:this.state.items,disableDropZone:n,enabled:r,hasItems:h}):null,this.renderErrorIfNeeded(l)),P.default.createElement(w.default,{title:(0,F.t)("Something went wrong"),message:(0,F.t)("Your images failed to upload"),saveLabel:(0,F.t)("Try Again"),cancelLabel:(0,F.t)("Cancel"),discardLabel:(0,F.t)("Delete Image"),cancelStyle:"default",confirmStyle:"default",isReviewingChanges:this.state.hasFailed,onSave:this.retryUpload,onDismiss:this.clearFailures,onDiscard:this.clearFailures,onRequestClose:this.clearFailures}),P.default.createElement(N.default,{videoUploadModalOpen:c,setVideoUploadModalStatus:this.setVideoUploadModalStatus,setEmbedType:this.setEmbedType,onAddVideo:this.onAddVideo,handleEmbedCodeChange:this.handleEmbedCodeChange,handleUrlEmbedChange:this.handleUrlEmbedChange,embedCodeUploadOn:false,videoLink:f,embedType:p,embedCode:m,addMode:true,videoError:g,disableVideoAddBtn:!(null===v||void 0===v?void 0:v.url)}))}}]);return r}(P.default.Component);var V=(0,r.default)(G);t.default=V;e.exports=t.default},13737:function(e,t,a){"use strict";a.r(t);var n=a(1677);a.d(t,"default",function(){return n["a"]})},13738:function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 14.25V11.5l6-6 6 6v2.75l-5-5V20h-2V9.25l-5 5zM19 2v2H3V2h16z' fill='%23313131'/%3E%3C/svg%3E"},13739:function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M14.192 15.606a7 7 0 111.414-1.414l3.601 3.601-1.414 1.414-3.6-3.6zM15 10a5 5 0 11-10 0 5 5 0 0110 0z' fill='%23313131'/%3E%3C/svg%3E"},13740:function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 17L19 6l-5-5L3 12v5h5zm-3-4.172l9-9L16.172 6l-9 9H5v-2.172z' fill='%23313131'/%3E%3Cpath d='M3 19h16v2H3v-2z' fill='%23313131'/%3E%3C/svg%3E"},13741:function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 14.3V7.7l5.5 3.3L9 14.3z' fill='%23313131'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M20 4H2v14h18V4zM4 16V6h14v10H4z' fill='%23313131'/%3E%3C/svg%3E"},13742:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(2));var l=n(a(74));var i=n(a(761));var s=n(a(43));var d=n(a(2218));var u=n(a(3435));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var f=function e(t){return(0,l.default)({getStores:function e(){return[d.default,u.default]},getPropsFromStores:function e(t){var a=t.galleryId,l=t.uploadingFilesMap;var o=d.default.getState();if(!a)return{};var n=Object.values(u.default.getState()).filter(function(e){return e&&e.data.collectionId===a}).map(function(e){var t=e.status;var a;(0,s.default)(e,["data","job","id"])?a=e.data.job&&e.data.job:(0,s.default)(e,["data","data","job","id"])&&(a=e.data.data.job);if(a){var n=a.id;var r=o[n];r?t=r.status:(0,i.default)(a.status)&&(t=a.status)}return c({},e,{status:t,done:!l.has(e.token)})});return{uploads:n}}},t)};t.default=f;e.exports=t.default},13743:function(e,t,a){var n=a(13744);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13744:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,'.ImagePickerPanel-overlay-1so5o {\n  background: transparent;\n}\n.ImagePickerPanel-modalWithoutMargin-2jtEb {\n  margin: 0;\n}\n.ImagePickerPanel-dragProxy-2CNV3 {\n  opacity: 1;\n}\n.ImagePickerPanel-body-2fDNG {\n  position: relative;\n  overflow-y: scroll;\n  /*this help to make it scroll smoothly on iOS:\n      ref: https://css-tricks.com/snippets/css/momentum-scrolling-on-ios-overflow-elements/\n    */\n  -webkit-overflow-scrolling: touch;\n  overflow-x: hidden;\n  height: 100%;\n  padding-top: 6px;\n}\n.ImagePickerPanel-multiDeleteButton-34DKm {\n  width: 40%;\n  height: 44px;\n  position: fixed;\n  bottom: 22px;\n  left: 5%;\n  background: #ec3e3d;\n  border-radius: 4px;\n  color: white;\n  font-size: 14px;\n  z-index: 1;\n}\n.ImagePickerPanel-imagePicker-R9RRb {\n  position: relative;\n  padding: 11px 11px 55px 11px;\n  height: calc(100% - 55px);\n}\n.ImagePickerPanel-imagePicker-R9RRb .ImagePickerPanel-addImageDropDown-bG74p {\n  width: 200px;\n  height: 100px;\n  position: fixed;\n  z-index: 30001;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .ImagePickerPanel-imagePicker-R9RRb {\n    width: 100vw;\n    height: calc(100% - 22px);\n    box-sizing: border-box;\n  }\n}\n.ImagePickerPanel-popover-2qXXs {\n  overflow: hidden;\n}\n.ImagePickerPanel-iconButton-2na4V {\n  align-items: center;\n  background: transparent;\n  display: flex;\n  height: 44px;\n  min-width: 165px;\n  padding: 0 11px 0 11px;\n}\n.ImagePickerPanel-iconButton-2na4V:hover {\n  background-color: rgba(0, 0, 0, 0.025);\n}\n.ImagePickerPanel-iconButton-2na4V > img {\n  margin-right: 11px;\n}\n.ImagePickerPanel-iconButton-2na4V > p {\n  color: #313131;\n  font-size: 14px;\n  line-height: 22px;\n  margin: 0;\n}\n.ImagePickerPanel-imageList-1_eQA > div:first-of-type > div:first-of-type {\n  padding-left: 16px;\n  padding-right: 16px;\n  padding-bottom: 16px;\n}\n.ImagePickerPanel-imageList-1_eQA > div:first-of-type > div:first-of-type:after {\n  content: "";\n  clear: both;\n  display: table;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .ImagePickerPanel-imageList-1_eQA > div:first-of-type > div:first-of-type {\n    padding-top: 16px;\n  }\n}\n.ImagePickerPanel-imageList-1_eQA div[class*="ReorderableGroup-proxy"]::after {\n  background-color: #14aaff;\n  right: -11px;\n  top: 5px;\n}\n.ImagePickerPanel-draggedImage-3WJBG {\n  opacity: 0.4;\n  counter-increment: multi-reorder;\n}\n.ImagePickerPanel-errorWhenLoading-1j92k {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.ImagePickerPanel-errorWhenLoading-1j92k > p:first-of-type {\n  font-size: 14px;\n}\n.ImagePickerPanel-errorWhenRefreshing-3e0B1 {\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 50%;\n  height: 44px;\n}\n.ImagePickerPanel-errorWhenRefreshing-3e0B1 > p:first-of-type {\n  font-size: 14px;\n}\n.ImagePickerPanel-dragSelectionContainer-7fsea {\n  position: fixed;\n  top: 50px;\n  left: 0;\n  bottom: 0;\n  right: 50%;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .ImagePickerPanel-dragSelectionContainer-7fsea {\n    /*should hide the drag selection container on mobile devices,\n      but cannot use display: none directly otherwise it will cause rendering issues*/\n    left: 100%;\n  }\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .ImagePickerPanel-mobileToolbarButton-1Bq28 {\n    font-size: 14px;\n    font-weight: 500;\n    letter-spacing: 0.5px;\n    text-transform: uppercase;\n  }\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .ImagePickerPanel-mobileToolbarTitle-GaUYS {\n    font-size: 14px;\n  }\n}\n',""]);t.locals={overlay:"ImagePickerPanel-overlay-1so5o",modalWithoutMargin:"ImagePickerPanel-modalWithoutMargin-2jtEb",dragProxy:"ImagePickerPanel-dragProxy-2CNV3",body:"ImagePickerPanel-body-2fDNG",multiDeleteButton:"ImagePickerPanel-multiDeleteButton-34DKm",imagePicker:"ImagePickerPanel-imagePicker-R9RRb",addImageDropDown:"ImagePickerPanel-addImageDropDown-bG74p",popover:"ImagePickerPanel-popover-2qXXs",iconButton:"ImagePickerPanel-iconButton-2na4V",imageList:"ImagePickerPanel-imageList-1_eQA",draggedImage:"ImagePickerPanel-draggedImage-3WJBG",errorWhenLoading:"ImagePickerPanel-errorWhenLoading-1j92k",errorWhenRefreshing:"ImagePickerPanel-errorWhenRefreshing-3e0B1",dragSelectionContainer:"ImagePickerPanel-dragSelectionContainer-7fsea",mobileToolbarButton:"ImagePickerPanel-mobileToolbarButton-1Bq28",mobileToolbarTitle:"ImagePickerPanel-mobileToolbarTitle-GaUYS"}},13745:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=n(a(5));var o=n(a(8));var i=n(a(9));var s=n(a(6));var u=n(a(10));var l=n(a(11));var c=n(a(7));var f=n(a(2));var p=n(a(0));var m=n(a(60));var r=n(a(1));var g=n(a(15));var v=a(24);var h=n(a(13746));var I=n(a(1629));var y=n(a(1602));var b=n(a(1715));var C=n(a(2581));var E=n(a(11811));var S=n(a(13747));function x(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(n),t;if(r()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var D=function(e){(0,u.default)(l,e);var r=x(l);function l(){var a;(0,o.default)(this,l);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=r.call.apply(r,[this].concat(t));(0,f.default)((0,s.default)(a),"state",{dragOver:false,invalidFilesErrors:null,alertModalOpen:false});(0,f.default)((0,s.default)(a),"fileInputRef",p.default.createRef());(0,f.default)((0,s.default)(a),"onDiscardInvalidFilesAlert",function(){a.setState({alertModalOpen:false})});(0,f.default)((0,s.default)(a),"onDragEnter",function(e){e.preventDefault();a.setState({dragOver:true})});(0,f.default)((0,s.default)(a),"onDragOver",function(e){e.preventDefault();try{e.dataTransfer.dropEffect="copy";e.dataTransfer.effectAllowed=e.dataTransfer.dropEffect}catch(e){}});(0,f.default)((0,s.default)(a),"onDragLeave",function(e){a.setState({dragOver:false});a.props.disableDropZone()});(0,f.default)((0,s.default)(a),"onDrop",function(e){e.preventDefault();e.stopPropagation();a.setState({dragOver:false});a.props.disableDropZone();var t=Array.from(e.dataTransfer.files);a.validateAndUpload(t)});(0,f.default)((0,s.default)(a),"onFileUploaderChanges",function(e){var t=e instanceof Array?e:Array.from(e.target.files);a.validateAndUpload(t)});(0,f.default)((0,s.default)(a),"onLicensedImagePicked",function(e){y.default.finishLoadingImage();y.default.closeImagePicker();if(e.cloneItemId){a.props.reuseImage(e.cloneItemId);return}a.props.uploadFromFileUrl(e.url,e)});(0,f.default)((0,s.default)(a),"onVideoAdded",function(e,t){a.props.uploadVideo(e,t)});(0,f.default)((0,s.default)(a),"openFileInput",function(){a.fileInputRef.current&&a.fileInputRef.current.click()});(0,f.default)((0,s.default)(a),"openLicensedImagePicker",function(){I.default.search();y.default.openImagePicker()});return a}(0,i.default)(l,[{key:"validateAndUpload",value:function e(t){var a=this.props.validateFiles(t),n=a.validFiles,r=a.invalidFilesErrors;r&&r.length&&this.setState({invalidFilesErrors:r,alertModalOpen:true});n.length&&this.props.uploadFiles(n)}},{key:"renderOverlayIfPossible",value:function e(){var t;var a=this.props.dropzonePortalContainerRef;if(!a.current)return null;return m.default.createPortal(p.default.createElement("div",{className:(0,g.default)(S.default.dropzone,(t={},(0,f.default)(t,S.default.onDragOver,this.state.dragOver),(0,f.default)(t,S.default.disablePointerEvents,!this.props.enabled),(0,f.default)(t,S.default.hasNoItems,!this.props.hasItems),t)),onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},this.state.dragOver?p.default.createElement("p",null,(0,v.t)("Drop Images to Upload")):this.props.hasItems?null:p.default.createElement("p",null,(0,v.t)("Drag your image here or click + to upload")),p.default.createElement("input",{ref:this.fileInputRef,className:S.default.hiddenInput,accept:"image/png,image/gif,image/jpeg",type:"file",multiple:true,onChange:this.onFileUploaderChanges})),a.current)}},{key:"render",value:function e(){return p.default.createElement(p.default.Fragment,null,this.renderOverlayIfPossible(),p.default.createElement(h.default,{isOpen:this.state.alertModalOpen,title:(0,v.t)("Invalid files"),message:this.state.invalidFilesErrors,onDismiss:this.onDiscardInvalidFilesAlert,onRequestClose:this.onDiscardInvalidFilesAlert}),p.default.createElement(C.default,{baseZIndex:300001,onUnlicensedPreview:this.onLicensedImagePicked,onLicensedPreview:this.onLicensedImagePicked,imageDestination:b.default.GALLERY_COLLECTION}))}}]);return l}(p.default.Component);(0,f.default)(D,"propTypes",{hasItems:r.default.bool,uploadFiles:r.default.func.isRequired,validateFiles:r.default.func.isRequired});var P=p.default.forwardRef(function(i,s){return p.default.createElement(E.default.Consumer,null,function(e){var t=e.uploadFiles,a=e.validateFiles,n=e.uploadFromFileUrl,r=e.uploadVideo,l=e.reuseImage,o=e.dropzonePortalContainerRef;return p.default.createElement(D,(0,d.default)({},i,{ref:s,uploadFiles:t,validateFiles:a,uploadFromFileUrl:n,uploadVideo:r,reuseImage:l,dropzonePortalContainerRef:o}))})});t.default=P;e.exports=t.default},13746:function(e,t,a){"use strict";a.r(t);var n=a(649);a.d(t,"default",function(){return n["a"]})},13747:function(e,t,a){var n=a(13748);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13748:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".Uploader-dropzone-1-OGJ {\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.Uploader-dropzone-1-OGJ.Uploader-hasNoItems-2Kp0v {\n  right: 50%;\n}\n.Uploader-dropzone-1-OGJ > p {\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #a1a1a1;\n}\n.Uploader-dropzone-1-OGJ.Uploader-disablePointerEvents-Iee3M {\n  pointer-events: none;\n}\n.Uploader-dropzone-1-OGJ.Uploader-onDragOver-6a4D6 {\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 2;\n}\n.Uploader-dropzone-1-OGJ.Uploader-onDragOver-6a4D6 > p {\n  color: white;\n  pointer-events: none;\n}\n.Uploader-hiddenInput-2d8W- {\n  opacity: 0;\n  display: none;\n}\n",""]);t.locals={dropzone:"Uploader-dropzone-1-OGJ",hasNoItems:"Uploader-hasNoItems-2Kp0v",disablePointerEvents:"Uploader-disablePointerEvents-Iee3M",onDragOver:"Uploader-onDragOver-6a4D6",hiddenInput:"Uploader-hiddenInput-2d8W-"}},13749:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a(8));var i=n(a(9));var s=n(a(6));var d=n(a(10));var l=n(a(11));var u=n(a(7));var p=n(a(2));var m=n(a(0));var g=n(a(15));var v=n(a(790));var h=a(2023);var I=a(53);var y=n(a(12159));var b=n(a(12428));var C=a(72);function c(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var f="MacIntel"===window.navigator.platform?"metaKey":"ctrlKey";var r=function(e){(0,d.default)(l,e);var r=c(l);function l(){var n;(0,o.default)(this,l);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,p.default)((0,s.default)(n),"containerRef",m.default.createRef());(0,p.default)((0,s.default)(n),"delete",function(){n.props.delete(n.props.id,n.props.isImage)});(0,p.default)((0,s.default)(n),"handleClick",function(e){var t=false;var a=false;e[f]&&(t=true);e.shiftKey&&(a=true);n.props.onSelectImage(t,a)});return n}(0,i.default)(l,[{key:"componentDidUpdate",value:function e(t){var a=t.isSelected;!a&&this.props.isSelected&&this.scrollToIfNeeded()}},{key:"scrollToIfNeeded",value:function e(){try{var t=this.containerRef.current;if(!t)return;var a=t.offsetParent.scrollTop;var n=a+t.offsetParent.clientHeight;var r=t.offsetTop;var l=r+t.clientHeight;var o=0;if(l>n)o=l-n;else{if(!(r<a))return;o=r-a}t.offsetParent.scrollBy({top:o,behavior:"smooth"})}catch(e){}}},{key:"render",value:function e(){var t=this.props,a=t.src,n=void 0===a?"":a,r=t.isSelected,l=t.withoutDeleteButton,o=t.className,i=void 0===o?"":o,s=t.mobileEditMode,d=t.isImage,u=t.selectedCount;var c=l&&!(0,b.default)();var f=(0,b.default)()?"del":"trashCanDark";return m.default.createElement("div",{ref:this.containerRef,className:(0,g.default)(y.default.imageContainer,i,(0,p.default)({},y.default.mobileEditMode,s)),"data-selected-count":u},m.default.createElement("div",{className:y.default.innerContainer},m.default.createElement("div",{className:(0,g.default)(y.default.img,(0,p.default)({},y.default.isSelected,r)),"data-selectable":true,style:{backgroundImage:'url("'.concat(n,'")')},onClick:this.handleClick,role:"img"},m.default.createElement("button",{className:y.default.hiddenButtonForAccessibility},"Select image")),c?null:m.default.createElement("button",{className:y.default.delete,onClick:this.delete},m.default.createElement(v.default,{name:f,height:2*h.GRID_SIZE_PX,width:2*h.GRID_SIZE_PX})),!d&&m.default.createElement(C.Video,{color:I.colors.white,sx:{position:"absolute",top:1,left:1}})))}}]);return l}(m.default.Component);t.default=r;(0,p.default)(r,"defaultProps",{withoutDeleteButton:false});e.exports=t.default},13750:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,'.Image-delete-fZPL2 {\n  width: 33px;\n  height: 33px;\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  background-color: white;\n  box-shadow: 0px 6px 14px rgba(0, 0, 0, 0.1);\n  border: 1px solid #f6f6f6;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.2s;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .Image-delete-fZPL2 {\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n    right: 0px;\n    left: -16px;\n    top: -16px;\n  }\n}\n.Image-delete-fZPL2:focus {\n  pointer-events: auto;\n  opacity: 1;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .Image-delete-fZPL2:focus {\n    pointer-events: none;\n    opacity: 0;\n  }\n}\n.Image-imageContainer-1VCI3 {\n  width: 30%;\n  margin-right: 5%;\n  position: relative;\n  margin-bottom: 14px;\n  margin-top: 2px;\n  overflow: visible;\n  float: left;\n}\n.Image-imageContainer-1VCI3:nth-child(3n+3), .Image-imageContainer-1VCI3.Image-thirdImageContainer-2rGKI {\n  margin-right: 0;\n}\n.Image-imageContainer-1VCI3:before {\n  content: "";\n  display: block;\n  padding-top: 100%;\n}\n.Image-imageContainer-1VCI3 .Image-innerContainer-1tlOF {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n.Image-imageContainer-1VCI3 .Image-img-GWhos {\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.Image-imageContainer-1VCI3 .Image-img-GWhos.Image-isSelected-2Xrgz {\n  box-shadow: 0 0 0 2px #00adff;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .Image-imageContainer-1VCI3 .Image-img-GWhos.Image-isSelected-2Xrgz {\n    box-shadow: none;\n  }\n}\n.Image-imageContainer-1VCI3 .Image-img-GWhos:focus-within {\n  box-shadow: 0 0 0 2px #006899;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .Image-imageContainer-1VCI3 .Image-img-GWhos:focus-within {\n    box-shadow: none;\n  }\n}\n.Image-imageContainer-1VCI3 .Image-img-GWhos .Image-hiddenButtonForAccessibility-uXqkc {\n  opacity: 0;\n  pointer-events: none;\n}\n.Image-imageContainer-1VCI3.Image-processing-4GenB {\n  pointer-events: none;\n}\n.Image-imageContainer-1VCI3.Image-processing-4GenB:hover .Image-delete-fZPL2 {\n  pointer-events: none;\n  opacity: 0;\n}\n.Image-imageContainer-1VCI3.Image-processing-4GenB .Image-delete-fZPL2:focus {\n  pointer-events: none;\n  opacity: 0;\n}\n.Image-imageContainer-1VCI3:hover .Image-delete-fZPL2 {\n  pointer-events: auto;\n  opacity: 1;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .Image-imageContainer-1VCI3:hover .Image-delete-fZPL2 {\n    pointer-events: none;\n    opacity: 0;\n  }\n}\n.Image-imageContainer-1VCI3.Image-mobileEditMode-3AIrv:hover .Image-delete-fZPL2, .Image-imageContainer-1VCI3.Image-mobileEditMode-3AIrv .Image-delete-fZPL2, .Image-imageContainer-1VCI3.Image-mobileEditMode-3AIrv .Image-delete-fZPL2:focus {\n  pointer-events: auto;\n  opacity: 1;\n}\n.Image-badge-s0-j9 {\n  position: absolute;\n  right: 6px;\n  top: 22px;\n  background-color: #00adff;\n  color: white;\n  border-radius: 11px;\n  width: 22px;\n  height: 22px;\n  text-align: center;\n}\n',""]);t.locals={delete:"Image-delete-fZPL2",imageContainer:"Image-imageContainer-1VCI3",thirdImageContainer:"Image-thirdImageContainer-2rGKI",innerContainer:"Image-innerContainer-1tlOF",img:"Image-img-GWhos",isSelected:"Image-isSelected-2Xrgz",hiddenButtonForAccessibility:"Image-hiddenButtonForAccessibility-uXqkc",processing:"Image-processing-4GenB",mobileEditMode:"Image-mobileEditMode-3AIrv",badge:"Image-badge-s0-j9"}},13751:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(8));var l=n(a(9));var o=n(a(10));var i=n(a(11));var s=n(a(7));var d=n(a(0));var u=n(a(13752));var c=n(a(13755));function f(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,s.default)(n),t;if(r()){var a=(0,s.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var p=function(e){(0,o.default)(a,e);var t=f(a);function a(){(0,r.default)(this,a);return t.apply(this,arguments)}(0,l.default)(a,[{key:"render",value:function e(){return d.default.createElement(u.default,{currentUploadedImages:this.props.currentUploadedImages,status:this.props.uploadState.status,percent:this.props.uploadState.percent,done:this.props.done,onStatusHasChanged:this.props.onProcessingStatusHasChanged,uploadToken:this.props.uploadToken,itemIndex:this.props.itemIndex},d.default.createElement(c.default,{file:this.props.file,formattedWidths:null}))}}]);return a}(d.default.Component);t.default=p;e.exports=t.default},13752:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a(8));var i=n(a(9));var s=n(a(6));var d=n(a(10));var l=n(a(11));var u=n(a(7));var c=n(a(2));var f=n(a(0));var r=n(a(1));var p=n(a(15));var m=n(a(12159));var g=n(a(790));var v=a(664);var h=n(a(13753));function I(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var y=function(e){(0,d.default)(l,e);var r=I(l);function l(){var e;(0,o.default)(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e=r.call.apply(r,[this].concat(a));(0,c.default)((0,s.default)(e),"state",{cancelled:false});return e}(0,i.default)(l,[{key:"componentDidUpdate",value:function e(t){var a=this.props,n=a.status,r=a.uploadToken,l=a.onStatusHasChanged;n!==t.status&&l(r,n)}},{key:"renderBadge",value:function e(){var t=this.props.status;if(t===v.FAILURE)return f.default.createElement("div",{className:(0,p.default)(h.default.badge,h.default.failed)},f.default.createElement(g.default,{name:"error",height:22,width:22}));return null}},{key:"render",value:function e(){var t;var a=this.props,n=a.status,r=a.children,l=a.percent,o=a.done,i=a.itemIndex;var s=(i+1)%3===0;if(o||n===v.SUCCESS||n===v.CANCELLED)return f.default.createElement("div",{className:h.default.done});return f.default.createElement("div",{className:(0,p.default)(m.default.imageContainer,m.default.processing,(t={},(0,c.default)(t,m.default.thirdImageContainer,s),(0,c.default)(t,h.default.cancelled,this.state.cancelled),(0,c.default)(t,h.default.done,this.props.done),t))},f.default.createElement("div",{className:h.default.innerContainer},f.default.createElement("div",{className:h.default.content},r),n===v.PROCESSING&&f.default.createElement("div",{className:h.default.progress,style:{width:"".concat(l,"%")}})),this.renderBadge())}}]);return l}(f.default.Component);(0,c.default)(y,"propTypes",{currentUploadedImages:r.default.array,cancelable:r.default.bool,onStatusHasChanged:r.default.func.isRequired,uploadToken:r.default.object.isRequired});(0,c.default)(y,"defaultProps",{cancelable:true,status:v.WAITING});var b=y;t.default=b;e.exports=t.default},13753:function(e,t,a){var n=a(13754);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13754:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".JobProcessingState-content-1vREc {\n  opacity: 0.3;\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.JobProcessingState-cancelled-2opBb, .JobProcessingState-done-1s-Wi {\n  position: absolute;\n  width: 0;\n  height: 0;\n  margin: 0;\n  padding: 0;\n}\n.JobProcessingState-innerContainer-27-vL {\n  overflow: hidden;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.JobProcessingState-progress-1yiX8 {\n  height: 2px;\n  background-color: black;\n  transition: width 500ms ease-out;\n  position: absolute;\n  bottom: 2px;\n  left: 0px;\n}\n.JobProcessingState-badge-etvkv {\n  position: absolute;\n  left: -11px;\n  top: -11px;\n  opacity: 0;\n  transition: opacity 0.5s ease;\n}\n.JobProcessingState-badge-etvkv.JobProcessingState-failed-3Be4u {\n  opacity: 1;\n}\n",""]);t.locals={content:"JobProcessingState-content-1vREc",cancelled:"JobProcessingState-cancelled-2opBb",done:"JobProcessingState-done-1s-Wi",innerContainer:"JobProcessingState-innerContainer-27-vL",progress:"JobProcessingState-progress-1yiX8",badge:"JobProcessingState-badge-etvkv",failed:"JobProcessingState-failed-3Be4u"}},13755:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a(8));var i=n(a(9));var s=n(a(6));var d=n(a(10));var l=n(a(11));var u=n(a(7));var c=n(a(2));var f=n(a(0));var p=n(a(12159));function m(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}window.URL=window.URL||window.webkitURL;var r=new Map;var g=function e(t){if(!t)return;if(t.url)return t.url;try{var a=r.get(t);if(!a){a=window.URL.createObjectURL(t);r.set(t,a)}return a}catch(e){console.log(e);return}};var v=function(e){(0,d.default)(l,e);var r=m(l);function l(){var e;(0,o.default)(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e=r.call.apply(r,[this].concat(a));(0,c.default)((0,s.default)(e),"revoke",function(){if(e.props.src||e.props.file&&e.props.file.url)return;try{window.URL.revokeObjectURL(g(e.props.file))}catch(e){console.error(e)}});return e}(0,i.default)(l,[{key:"render",value:function e(){var t=this.props.src||g(this.props.file);return f.default.createElement("div",{className:p.default.img,style:{backgroundImage:'url("'.concat(t,'")')},onLoad:this.revoke})}}]);return l}(f.default.Component);t.default=v;e.exports=t.default},13756:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var I=n(a(0));var r=n(a(1));var y=n(a(12427));var b=a(30);var C=n(a(2576));var E=a(24);var S=n(a(8110));var x=n(a(2709));var D=n(a(4123));var P=n(a(13757));var k=n(a(12160));var l=function e(t){var a=t.videoUploadModalOpen,n=t.videoLink,r=t.embedType,l=t.embedCodeUploadOn,o=t.addMode,i=t.videoError,s=t.setVideoUploadModalStatus,d=t.onAddVideo,u=t.setEmbedType,c=t.handleUrlEmbedChange,f=t.disableVideoAddBtn;var p=o?(0,E.t)("Add"):(0,E.t)("Replace");var m=o?(0,E.t)("Add Video"):(0,E.t)("Replace Video");var g=(0,E.t)("Cancel");var v=["vimeo","youtube","animoto","wistia"];var h=(0,E.t)("Support videos from Youtube, Vimeo, Animoto or Wistia.");return I.default.createElement(b.Modal.Transition,null,a&&I.default.createElement(b.Modal,{onRequestClose:function e(){return s(false)},closeOnOverlayClicked:false},I.default.createElement(b.Modal.Overlay,null),I.default.createElement(b.Modal.Position,{position:"center"},I.default.createElement(b.Modal.Dialog,{width:"sizes.750"},I.default.createElement(y.default,null,I.default.createElement(y.default.Left,null,I.default.createElement(y.default.Button,{label:g,onClick:function e(){return s(false)}})),I.default.createElement(y.default.Center,null,I.default.createElement(y.default.Title,null,m)),I.default.createElement(y.default.Right,null,I.default.createElement(y.default.Button,{label:p,onClick:d,isDisabled:f}))),I.default.createElement("div",null,l?I.default.createElement(S.default,{options:[{label:(0,E.t)("Video URL"),value:k.default.URL},{label:(0,E.t)("Video Embed"),value:k.default.MANUAL}],value:r,onChange:u}):null,r===k.default.URL?I.default.createElement(I.default.Fragment,null,I.default.createElement(D.default,{allowVimeoBasicAuthorEmbed:true,className:P.default.urlEmbed,onChange:c,providers:v,placeholder:"https://...",value:{url:n}}),i?I.default.createElement(C.default,{className:P.default.errorText,errors:{message:(0,E.t)("Something went wrong!")}}):null,I.default.createElement(x.default,{className:P.default.urlDescription,text:h})):null)))))};l.propTypes={videoUploadModalOpen:r.default.bool.isRequired,videoLink:r.default.string.isRequired,embedType:r.default.string.isRequired,embedCodeUploadOn:r.default.bool.isRequired,addMode:r.default.bool.isRequired,videoError:r.default.bool.isRequired,setVideoUploadModalStatus:r.default.func.isRequired,onAddVideo:r.default.func.isRequired,setEmbedType:r.default.func.isRequired,handleUrlEmbedChange:r.default.func.isRequired};var o=l;t.default=o;e.exports=t.default},13757:function(e,t,a){var n=a(13758);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13758:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".VideoUploadModal-urlEmbed-1jObo {\n  margin: 0 22px 11px;\n  border-bottom: 1px solid #cccccc;\n}\n.VideoUploadModal-urlDescription-I5afg {\n  margin: 0 22px 22px;\n}\n.VideoUploadModal-errorText-3H35L {\n  margin: 6px 22px 0px 22px;\n}\n",""]);t.locals={urlEmbed:"VideoUploadModal-urlEmbed-1jObo",urlDescription:"VideoUploadModal-urlDescription-I5afg",errorText:"VideoUploadModal-errorText-3H35L"}},13759:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a(8));var i=n(a(9));var s=n(a(6));var d=n(a(10));var l=n(a(11));var u=n(a(7));var c=n(a(2));var f=n(a(0));var p=n(a(2453));var m=n(a(1436));var g=n(a(7386));var v=a(2362);var h=a(24);var r=n(a(13760));var I=n(a(13761));var y=n(a(13762));var b=n(a(13766));var C=n(a(12429));var E=a(149);function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),true).forEach(function(e){(0,c.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function D(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var P=function(e){(0,d.default)(l,e);var r=D(l);function l(){var a;(0,o.default)(this,l);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=r.call.apply(r,[this].concat(t));(0,c.default)((0,s.default)(a),"state",{value:{},isPurchaseLicenseOpen:false,imageLoaded:false});(0,c.default)((0,s.default)(a),"imageRef",f.default.createRef());(0,c.default)((0,s.default)(a),"onChange",function(e){var t=e.value;a.props.onImageDetailChanges(t)});(0,c.default)((0,s.default)(a),"renderHeader",function(){return null});return a}(0,i.default)(l,[{key:"panelRenderer",value:function e(t){return t.children}},{key:"renderLicenseSpecificComponent",value:function e(t){return f.default.createElement("div",{className:C.default.licenseBlock},f.default.createElement("div",{className:C.default.actions},f.default.createElement(m.default,{color:"primary",onClick:this.props.openPurchaseLicenseModal},(0,h.t)("License")),f.default.createElement(m.default,{color:"warning",onClick:this.props.delete},(0,h.t)("Delete"))),f.default.createElement("p",null,(0,h.t)("This is a unlicensed preview image. To license it use the license link above. Watermarks will be removed after purchase.")))}},{key:"renderImageEditorButton",value:function e(t){var a=this;if(t.recordType===E.VIDEO)return f.default.createElement("div",{className:C.default.imageEditorButtonContainer});return f.default.createElement("div",{className:C.default.imageEditorButtonContainer},f.default.createElement(m.default,{color:"primary",onClick:function e(){return a.props.openEditor(t)}},(0,h.t)("Edit Image")))}},{key:"renderSingleImage",value:function e(t){if(!t)return null;var a=this.props,n=a.images,r=a.isFirstImage,l=a.selectPreviousImage,o=a.isLastImage,i=a.selectNextImage,s=a.onFocalPointChange;var d=(0,h.t)("Back");var u=t.recordType===E.IMAGE;return f.default.createElement(f.default.Fragment,null,f.default.createElement("a",{className:C.default.mobileBackButton,onClick:this.props.mobileSwitchToPicker},d),f.default.createElement(y.default,{selectedImage:t,images:n,isFirstImage:r,selectPreviousImage:l,isLastImage:o,selectNextImage:i,onFocalPointChange:s}),t.licensedAssetPreview?this.renderLicenseSpecificComponent(t):this.renderImageEditorButton(t),f.default.createElement(p.default,{components:x({string:v.string,textarea:v.textarea},u&&{link:g.default,context:v.context}),configurations:{default:{schema:u?b.default.imageJsonSchema:b.default.videoJsonSchema,uiSchema:u?b.default.imageUiSchema:b.default.videoUiSchema,value:t}},onChange:this.onChange,renderHeader:this.renderHeader,renderComponentList:this.panelRenderer}))}},{key:"renderStackedImages",value:function e(t){var r=24;var l=-t.length*r/2;return f.default.createElement("div",{className:C.default.stackedImages},t.map(function(e,t){var a=e.id,n=e.assetUrl;return f.default.createElement("div",{key:a,className:C.default.imageContainer},f.default.createElement("img",{className:C.default.image,alt:(0,h.t)("stacked images"),src:n,style:{transform:"translateY(".concat(-(l+r*t),"px)")}}))}))}},{key:"renderContent",value:function e(){var t=this.props.selectedImages;if(!t||!t.length)return null;if(1===t.length)return this.renderSingleImage(t[0]);return null}},{key:"renderMultiDeleteButton",value:function e(){var t=this.props,a=t.selectedImages,n=t.deleteSelectedImages;return f.default.createElement("button",{className:C.default.multiDeleteButton,onClick:function e(){return n()}},(0,h.t)("Delete ({nbImages})",{nbImages:a.length}))}},{key:"render",value:function e(){var t=this.props.selectedImages,a=void 0===t?[]:t;return f.default.createElement("div",{className:C.default.container},this.renderContent(),a.length>1?this.renderMultiDeleteButton():null)}}]);return l}(f.default.Component);var k=(0,I.default)((0,r.default)(P));var w=k;t.default=w;e.exports=t.default},13760:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=y;var i=n(a(5));var s=n(a(19));var d=n(a(8));var u=n(a(9));var c=n(a(6));var f=n(a(10));var l=n(a(11));var o=n(a(7));var p=n(a(2));var m=n(a(0));var r=n(a(1));var g=n(a(21));var v=n(a(2582));var h=n(a(11811));function I(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,o.default)(n),t;if(r()){var a=(0,o.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}function y(o){var n=function(e){(0,f.default)(l,e);var r=I(l);function l(){var a;(0,d.default)(this,l);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=r.call.apply(r,[this].concat(t));(0,p.default)((0,c.default)(a),"state",{isPurchaseLicenseOpen:false});(0,p.default)((0,c.default)(a),"openPurchaseLicenseModal",function(){a.props.setIsBackspaceToDeleteEnabled(false);a.setState({isPurchaseLicenseOpen:true})});(0,p.default)((0,c.default)(a),"uploadPurchasedLicensedImage",function(e,t){a.props.uploadFromFileUrl(t.url,t);a.setState({isPurchaseLicenseOpen:false})});return a}(0,u.default)(l,[{key:"renderPurchaseDialogIfNeeded",value:function e(){var a=this;var n=this.props.selectedImages[0];if(!n||!n.licensedAssetPreview)return null;return m.default.createElement(v.default,{key:"licensed-image-purchase-modal",assetPreview:n.licensedAssetPreview,previewUrl:n.assetUrl,isOpen:this.state.isPurchaseLicenseOpen,onRequestClose:function e(){a.props.setIsBackspaceToDeleteEnabled(true);a.setState({isPurchaseLicenseOpen:false})},onPurchaseSuccess:function e(t){return a.uploadPurchasedLicensedImage(n.id,t)}})}},{key:"render",value:function e(){var t=this.props,a=t.uploadFromFileUrl,n=(0,s.default)(t,["uploadFromFileUrl"]);return m.default.createElement(m.default.Fragment,null,m.default.createElement(o,(0,i.default)({},n,{openPurchaseLicenseModal:this.openPurchaseLicenseModal})),this.renderPurchaseDialogIfNeeded())}}]);return l}(m.default.Component);(0,p.default)(n,"propTypes",{setIsBackspaceToDeleteEnabled:r.default.func});(0,p.default)(n,"defaultProps",{setIsBackspaceToDeleteEnabled:g.default});return function(a){return m.default.createElement(h.default.Consumer,null,function(e){var t=e.uploadFromFileUrl;return m.default.createElement(n,(0,i.default)({},a,{uploadFromFileUrl:t}))})}}e.exports=t.default},13761:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=I;var o=n(a(5));var i=n(a(8));var s=n(a(9));var d=n(a(6));var u=n(a(10));var l=n(a(11));var c=n(a(7));var f=n(a(2));var p=n(a(0));var r=n(a(1));var m=n(a(21));var g=n(a(1926));var v=n(a(11811));function h(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(n),t;if(r()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}function I(a){var n=function(e){(0,u.default)(l,e);var r=h(l);function l(){var a;(0,i.default)(this,l);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=r.call.apply(r,[this].concat(t));(0,f.default)((0,d.default)(a),"state",{isEditorOpen:false});(0,f.default)((0,d.default)(a),"openEditor",function(e){if(!e){console.error("Trying to edit an invalid content item");return}a.props.setIsBackspaceToDeleteEnabled(false);a.setState({isEditorOpen:true,contentItem:e})});(0,f.default)((0,d.default)(a),"handleCancelImageEditor",function(){a.props.setIsBackspaceToDeleteEnabled(true);a.setState({isEditorOpen:false,contentItem:null})});(0,f.default)((0,d.default)(a),"handleSaveImageEditor",function(e){var t=a.state.contentItem;if(!t){console.error("Trying to save an invalid content item");return}a.props.replaceImage(e,t);a.props.setIsBackspaceToDeleteEnabled(true);a.setState({isEditorOpen:false,contentItem:null})});return a}(0,s.default)(l,[{key:"render",value:function e(){var t=this.state.contentItem;return p.default.createElement(p.default.Fragment,null,p.default.createElement(a,(0,o.default)({},this.props,{openEditor:this.openEditor})),p.default.createElement(g.default,{imageSrc:t&&t.assetUrl,isOpen:this.state.isEditorOpen,onCancel:this.handleCancelImageEditor,onSave:this.handleSaveImageEditor}))}}]);return l}(p.default.Component);(0,f.default)(n,"propTypes",{replaceImage:r.default.func.isRequired,contentItem:r.default.object.isRequired,setIsBackspaceToDeleteEnabled:r.default.func});(0,f.default)(n,"defaultProps",{setIsBackspaceToDeleteEnabled:m.default});return function(a){return p.default.createElement(v.default.Consumer,null,function(e){var t=e.replaceImage;return p.default.createElement(n,(0,o.default)({},a,{replaceImage:t}))})}}e.exports=t.default},13762:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=l;var u=n(a(27));var c=n(a(0));var f=n(a(790));var p=n(a(3514));var m=a(72);var g=a(149);var v=a(13763);var h=n(a(13764));var I=a(53);var i=288;var s={LEFT:-1,RIGHT:1};var r=.3;var d=1e3*r;var y="left ".concat(r,"s ease-in-out");function b(e){var t=c.default.useRef();c.default.useEffect(function(){t.current=e},[e]);return t.current}function C(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";e.forEach(function(e,t){e.style.transition=n;e.style.left="".concat((t-a)*i,"px");"none"===n&&(e.style.transform="none")})}function E(e,t,a,n){var r=e[t];var l=e[a];if(!l||!r)return;var o=parseInt(r.style.left);r.style.transition=y;r.style.transform="translateX(".concat(n*(o*-n-i),"px)");r.style.left="".concat(o+i*n,"px");l.style.transition=y;l.style.left="".concat(i*n,"px");return setTimeout(function(){C(e,t)},d)}function S(t,e){var r=c.default.useRef(null);var l=e.findIndex(function(e){return e.id===t.id});var o=b(l);c.default.useEffect(function(){if(!r.current)return;var e=null;var t=r.current.querySelectorAll("[data-is-image=true]");var a=void 0===o?l:o;C(t,a);if(l!==o)if(void 0!==o&&l+1!==o&&l-1!==o){var n=l>o?s.LEFT:s.RIGHT;e=E(t,l,o,n)}else C(t,l,y);return function(){e&&clearTimeout(e)}},[t,e,l,o,r]);return r}function x(e){var t=e.image,a=void 0===t?{}:t,n=e.onFocalPointChange;var r=(0,v.useImageLoader)(a.assetUrl),l=(0,u.default)(r,2),o=l[0],i=l[1];var s=c.default.useRef();var d=a.recordType===g.VIDEO;return c.default.createElement("div",{className:h.default.imageContainer},c.default.createElement("div",{"data-is-image":true,ref:s,className:h.default.image,style:{backgroundImage:"url('".concat(o.src,"')")}},i&&!d&&c.default.createElement(p.default,{key:a.id,visible:i,onChange:n,imageNodeGetter:function e(){return s.current},className:h.default.focalPoint,x:a.mediaFocalPoint.x,y:a.mediaFocalPoint.y}),d&&c.default.createElement(m.Video,{color:I.colors.white,sx:{position:"absolute",top:2,left:2}})))}function l(e){var t=e.selectedImage,a=void 0===t?{}:t,n=e.images,r=e.isFirstImage,l=e.selectPreviousImage,o=e.isLastImage,i=e.selectNextImage,s=e.onFocalPointChange;var d=S(a,n);if(!a)return null;return c.default.createElement("div",{className:h.default.viewer},c.default.createElement("button",{disabled:r,onClick:l},c.default.createElement(f.default,{name:r?"chevronLargeLeftLight":"chevronLargeLeftDark"})),c.default.createElement("div",{ref:d,className:h.default.imageList},n.map(function(e,t){return c.default.createElement(x,{key:e.assetUrl,image:e,onFocalPointChange:s})})),c.default.createElement("button",{disabled:o,onClick:i},c.default.createElement(f.default,{name:o?"chevronLargeRightLight":"chevronLargeRightDark"})))}e.exports=t.default},13763:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.useImageLoader=r;var o=n(a(27));var i=n(a(0));function r(t){var e=i.default.useState(false),a=(0,o.default)(e,2),n=a[0],r=a[1];var l=i.default.useMemo(function(){r(false);var e=new Image(100,200);e.onload=function(){r(true)};e.src=t;return e},[t]);return[l,n]}},13764:function(e,t,a){var n=a(13765);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13765:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".Carousel-viewer-1iWSy {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin-bottom: 11px;\n  height: 216px;\n}\n.Carousel-viewer-1iWSy button {\n  width: 22px;\n  height: 22px;\n  border-radius: 11px;\n  background-color: #e1e1e1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: none;\n}\n.Carousel-viewer-1iWSy .Carousel-imageList-2xC1x {\n  position: relative;\n  height: 100%;\n  flex-grow: 1;\n}\n.Carousel-viewer-1iWSy .Carousel-imageContainer-1ILFO {\n  position: absolute;\n  background-color: #ebebeb;\n  flex-grow: 1;\n  width: 288px;\n  height: 100%;\n  margin: 11px;\n  overflow: hidden;\n}\n.Carousel-viewer-1iWSy .Carousel-imageContainer-1ILFO .Carousel-image-2VK8h {\n  position: relative;\n  flex-grow: 1;\n  height: 100%;\n  z-index: 1;\n  overflow: auto;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.Carousel-viewer-1iWSy .Carousel-imageContainer-1ILFO .Carousel-image-2VK8h .Carousel-focalPoint-3QwEx {\n  opacity: 0;\n}\n.Carousel-viewer-1iWSy .Carousel-imageContainer-1ILFO .Carousel-image-2VK8h:hover .Carousel-focalPoint-3QwEx {\n  opacity: 1;\n}\n",""]);t.locals={viewer:"Carousel-viewer-1iWSy",imageList:"Carousel-imageList-2xC1x",imageContainer:"Carousel-imageContainer-1ILFO",image:"Carousel-image-2VK8h",focalPoint:"Carousel-focalPoint-3QwEx"}},13766:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(24);var l=n(a(12429));var o={type:"object",properties:{body:{type:"object",properties:{html:{type:"string"}}},clickthroughUrl:{type:"string"},newWindow:{type:"boolean"}}};var i=[{type:"textarea",$mapping:"#/body/html",properties:{label:(0,r.t)("Description"),placeholder:(0,r.t)("Add a description"),inline:false}},{type:"context",properties:{label:(0,r.t)("Link")}},{type:"link",$mapping:{url:"#/clickthroughUrl",newWindow:"#/newWindow"},properties:{modalClassName:l.default.withoutBottomBorderA}}];var s={type:"object",properties:{body:{type:"object",properties:{html:{type:"string"}}}}};var d=[{type:"string",$mapping:"#/body/html",properties:{label:(0,r.t)("Description"),placeholder:(0,r.t)("Add a description"),inline:false}}];var u={imageJsonSchema:o,imageUiSchema:i,videoJsonSchema:s,videoUiSchema:d};t.default=u;e.exports=t.default},13767:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".ImageDetail-container-25HgH {\n  background-color: #f6f6f6;\n  height: 100%;\n  padding: 82px 22px 33px 22px;\n}\n.ImageDetail-container-25HgH input {\n  caret-color: black !important;\n}\n.ImageDetail-multiDeleteButton-tbu9- {\n  width: 40%;\n  height: 44px;\n  position: fixed;\n  bottom: 22px;\n  left: 55%;\n  background: #ec3e3d;\n  border-radius: 4px;\n  color: white;\n  font-size: 14px;\n  z-index: 1;\n}\n.ImageDetail-imageEditorButtonContainer-1K1jK {\n  padding-bottom: 44px;\n  display: flex;\n  justify-content: center;\n}\n.ImageDetail-licenseBlock-naGgB {\n  width: 276px;\n  margin: auto;\n  margin-bottom: 11px;\n}\n.ImageDetail-licenseBlock-naGgB .ImageDetail-actions-2VwYS {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  border-bottom: 1px solid #ebebeb;\n}\n.ImageDetail-licenseBlock-naGgB p {\n  font-size: 12px;\n  line-height: 16px;\n  color: #a1a1a1;\n}\n.ImageDetail-stackedImages-1c3QP {\n  position: relative;\n  height: 100%;\n}\n.ImageDetail-stackedImages-1c3QP .ImageDetail-imageContainer-2tRsc {\n  width: 240px;\n  height: 240px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.ImageDetail-stackedImages-1c3QP .ImageDetail-imageContainer-2tRsc .ImageDetail-image-1y5xn {\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  overflow: auto;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  transition: transform 1s ease-in-out;\n}\n.ImageDetail-withoutBottomBorderA-1g3Js a[class*='NavItem-container-'] {\n  border-bottom: none;\n}\n.ImageDetail-withoutBottomBorderA-1g3Js a[class*='InputActions-'] {\n  border-bottom: none;\n}\n.ImageDetail-mobileBackButton-1sxhK {\n  display: none;\n}\n",""]);t.locals={container:"ImageDetail-container-25HgH",multiDeleteButton:"ImageDetail-multiDeleteButton-tbu9-",imageEditorButtonContainer:"ImageDetail-imageEditorButtonContainer-1K1jK",licenseBlock:"ImageDetail-licenseBlock-naGgB",actions:"ImageDetail-actions-2VwYS",stackedImages:"ImageDetail-stackedImages-1c3QP",imageContainer:"ImageDetail-imageContainer-2tRsc",image:"ImageDetail-image-1y5xn",withoutBottomBorderA:"ImageDetail-withoutBottomBorderA-1g3Js",mobileBackButton:"ImageDetail-mobileBackButton-1sxhK"}},13768:function(e,t,a){var n=a(13769);"string"===typeof n&&(n=[[e.i,n,""]]);var r;var l;var o={hmr:true};o.transform=r;o.insertInto=void 0;var i=a(17)(n,o);n.locals&&(e.exports=n.locals);false},13769:function(e,t,a){t=e.exports=a(16)(false);t.push([e.i,".PageSectionGalleryContent-noPointerEvents-2uJKN {\n  pointer-events: none;\n}\n.PageSectionGalleryContent-dialogContainer-1HszE {\n  pointer-events: auto;\n  width: 800px;\n  height: 600px;\n  display: flex;\n  overflow: hidden;\n  position: relative;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .PageSectionGalleryContent-dialogContainer-1HszE {\n    width: 100vw;\n    height: calc(var(--vh, 1vh) * 100);\n    min-width: auto;\n    min-height: auto;\n  }\n}\n.PageSectionGalleryContent-innerContainer-G0GCZ {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.PageSectionGalleryContent-panel-h9Zy2 {\n  position: relative;\n  width: 50%;\n  height: 100%;\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .PageSectionGalleryContent-panel-h9Zy2 {\n    width: auto;\n    flex: 0 0 100%;\n    box-sizing: border-box;\n    min-width: 0;\n    transition: flex-basis 0.3s ease;\n    z-index: 10;\n    overflow: hidden;\n  }\n}\n@media only screen and (pointer: coarse) and (orientation: portrait) and (max-device-width: 414px),only screen and (pointer: coarse) and (orientation: landscape) and (max-device-height: 414px) {\n  .PageSectionGalleryContent-hide-N5_bK {\n    flex-basis: 0;\n    z-index: 9;\n  }\n}\n",""]);t.locals={noPointerEvents:"PageSectionGalleryContent-noPointerEvents-2uJKN",dialogContainer:"PageSectionGalleryContent-dialogContainer-1HszE",innerContainer:"PageSectionGalleryContent-innerContainer-G0GCZ",panel:"PageSectionGalleryContent-panel-h9Zy2",hide:"PageSectionGalleryContent-hide-N5_bK"}},13770:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FAILED_TO_LOAD_IMAGES=void 0;var n="FAILED_TO_LOAD_IMAGES";t.FAILED_TO_LOAD_IMAGES=n},13771:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(24);var r={singleTitle:{video:(0,n.t)("Remove Video"),image:(0,n.t)("Remove Image")},singleDetail:{video:(0,n.t)("Are you sure you wish to remove this video? This action cannot be undone."),image:(0,n.t)("Are you sure you wish to remove this image? This action cannot be undone.")},multipleTitle:{video:(0,n.t)("Remove Videos"),image:(0,n.t)("Remove Images"),mixed:(0,n.t)("Remove Images/Videos")},multipleDetail:{video:(0,n.t)("Are you sure you wish to remove selected videos? This action cannot be undone."),image:(0,n.t)("Are you sure you wish to remove selected images? This action cannot be undone."),mixed:(0,n.t)("Are you sure you wish to remove selected images/videos? This action cannot be undone.")}};var l=r;t.default=l;e.exports=t.default},13772:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=n(a(8));var o=n(a(9));var i=n(a(6));var s=n(a(10));var d=n(a(11));var u=n(a(7));var c=n(a(2));var f=n(a(0));var r=n(a(1));var p=n(a(1510));var g=a(24);var v=n(a(1942));var h=a(1720);var I=n(a(1116));var y=n(a(1309));var b=a(149);var C=a(1723);var E=n(a(1923));var S=n(a(229));var x=n(a(523));var D=n(a(596));var P=n(a(1332));var k=n(a(1925));var m=n(a(11811));var w=n(a(13773));var R=n(a(12160));function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function L(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(Object(a),true).forEach(function(e){(0,c.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function M(n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(n),t;if(r()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,d.default)(this,t)}}var T=function(e){(0,s.default)(r,e);var n=M(r);function r(){var m;(0,l.default)(this,r);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];m=n.call.apply(n,[this].concat(t));(0,c.default)((0,i.default)(m),"fileInputRef",f.default.createRef());(0,c.default)((0,i.default)(m),"getUploadData",function(e,t,a){return(0,v.default)(e,a?b.VIDEO:b.IMAGE,y.default.ITEM,t)});(0,c.default)((0,i.default)(m),"createNewCollection",function(){var e=(0,g.t)("Transient Gallery {galleryId}",{galleryId:(0,p.default)()});return E.default.create({type:S.default.GALLERY_BLOCK,ordering:x.default.USER,typeName:"transient-gallery",navigationTitle:e})});(0,c.default)((0,i.default)(m),"uploadFromFileUrl",function(t,a,e){var n=m.props,r=n.items,l=n.collectionId,o=void 0===l?e:l,i=n.onCollectionIdCreated,s=n.onStartUploadingFile;if(!o){m.createNewCollection().then(function(e){i(e);m.uploadFromFileUrl(t,a,e)});return}var d=m.getLastItemDisplayIndex(r);var u=(0,h.getUploadToken)();var c=m.getUploadData(a,{index:d+1,collectionId:o},false);s(u,{url:t});I.default.uploadFromFileUrl(u,C.URLS.GALLERY_IMAGE(o),c)});(0,c.default)((0,i.default)(m),"uploadFiles",function(t,e){var a=m.props,n=a.items,r=a.collectionId,l=void 0===r?e:r,o=a.onCollectionIdCreated,i=a.onStartUploadingFile;if(!l){m.createNewCollection().then(function(e){o(e);m.uploadFiles(t,e)});return}var s=(0,h.getMultipleUploadTokens)(t.length);var d=t.map(function(e,t){i(s[t],e);var a=m.getLastItemDisplayIndex(n);return m.getUploadData(e,{index:a+t+1,collectionId:l},false)});I.default.uploadFiles(s,C.URLS.GALLERY_IMAGE(l),d)});(0,c.default)((0,i.default)(m),"uploadVideo",function(n,r,e){var t=m.props,a=t.items,l=t.collectionId,o=void 0===l?e:l,i=t.onCollectionIdCreated,s=t.onStartUploadingFile;if(!o){m.createNewCollection().then(function(e){i(e);m.uploadVideo(n,r,e)});return}var d=m.getLastItemDisplayIndex(a);var u=(0,h.getUploadToken)();var c=m.getUploadData(n,{index:d+1,collectionId:o},true);s(u,{url:n.thumbnailUrl});var f=(new Date).getTime();var p=L({},w.default,{addedOn:f,publishOn:f,collectionId:o,title:n.title,sourceUrl:n.url,displayIndex:d+1,structuredContent:L({},w.default.structuredContent,{oembed:n})},r===R.default.URL?{oembed:n}:{});k.default.createForCollection(p).then(function(e){var t=e.data;if(r===R.default.URL){var a=L({},c,{fileUrl:n.thumbnailUrl,collectionId:t.collectionId,replaceItemId:t.id});I.default.uploadFromFileUrl(u,C.URLS.VIDEO,a).then(function(e){var t=e.data.contentItem;m.props.onSelectImages(t,false)})}})});(0,c.default)((0,i.default)(m),"reuseImage",function(t,e){var a=m.props,n=a.collectionId,r=void 0===n?e:n,l=a.onCollectionIdCreated,o=a.handleOnChange;if(!r){m.createNewCollection().then(function(e){l(e);m.reuseImage(t,e)});return}k.default.copy(t,D.default.PUBLISHED,r).then(function(e){var t=e.data;P.default.insert(t);o()})});(0,c.default)((0,i.default)(m),"replaceImage",function(e,t){var a=(0,h.getUploadToken)();var n=m.getUploadData(e,{index:t.displayIndex,collectionId:m.props.collectionId,replaceItemId:t.id});I.default.uploadFile(a,C.URLS.GALLERY_IMAGE(m.props.collectionId),n).then(function(){m.props.handleOnChange()})});(0,c.default)((0,i.default)(m),"getFileTooLargeError",function(e){return(0,g.t)("The file {name} is too large. The maximum allowed file size is {size}MB.",{name:e.name,size:m.props.maxFileSizeMb})});(0,c.default)((0,i.default)(m),"getInvalidTypeError",function(e){return(0,g.t)("The file {name} does not appear to be a supported image file.",{name:e.name})});(0,c.default)((0,i.default)(m),"getLastItemDisplayIndex",function(e){var t;if(e.length>0){t=e.length-1;"number"===typeof e[e.length-1].displayIndex&&(t=Math.max(e[e.length-1].displayIndex,e.length-1))}else t=0;return t});(0,c.default)((0,i.default)(m),"validateFiles",function(e){var t=m.props,a=t.maxFileSizeMb,n=t.validMimeTypes;var r={tooLarge:[],invalidType:[]};var l=[];var o=e.filter(function(e){if(e.size>1024*a*1024){r.tooLarge.push(e);return false}if(!n.includes(e.type)){r.invalidType.push(e);return false}return true});(r.tooLarge.length||r.invalidType)&&(l=m.generateErrorMessages(r));return{errors:r,invalidFilesErrors:l,validFiles:o}});(0,c.default)((0,i.default)(m),"contextValue",{validateFiles:m.validateFiles,uploadFiles:m.uploadFiles,uploadFromFileUrl:m.uploadFromFileUrl,uploadVideo:m.uploadVideo,reuseImage:m.reuseImage,replaceImage:m.replaceImage,dropzonePortalContainerRef:m.props.dropzonePortalContainerRef});return m}(0,o.default)(r,[{key:"generateErrorMessages",value:function e(t){var a=[].concat((t.tooLarge||[]).map(this.getFileTooLargeError),(t.invalidType||[]).map(this.getInvalidTypeError));return a.length?a.join("\n"):null}},{key:"render",value:function e(){return f.default.createElement(m.default.Provider,{value:this.contextValue},this.props.children)}}]);return r}(f.default.Component);t.default=T;(0,c.default)(T,"propTypes",{items:r.default.array.isRequired,uploadingFilesMap:r.default.object.isRequired,maxFileSizeMb:r.default.number.isRequired,onCollectionIdCreated:r.default.func.isRequired,onStartUploadingFile:r.default.func.isRequired,handleOnChange:r.default.func.isRequired,validMimeTypes:r.default.arrayOf(r.default.string).isRequired,collectionId:r.default.string});e.exports=t.default},13773:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(149));var l=n(a(596));var o=n(a(1715));var i={proxyForId:null,recordType:r.default.VIDEO,childType:null,unsaved:null,updatedOn:null,urlId:null,title:null,body:null,excerpt:{html:"",raw:false},displayIndex:0,starred:false,passthrough:false,tags:[],categories:[],workflowState:l.default.PUBLISHED,systemDataId:null,systemDataVariants:null,systemDataOrigin:null,contentType:null,fileName:null,dataSize:null,sourceUrl:null,mediaProcessingState:null,mediaFocalPoint:{x:.5,y:.5},clickthroughUrl:null,location:null,customContent:null,likeCount:0,dislikeCount:0,commentCount:0,publicCommentCount:0,commentState:2,commentDisableOn:null,pushedServices:[],shareStates:[],structuredContent:{_type:"Embed",oembed:null,overlay:true},licensedAssetPreview:null,licensedAssetId:null,isPusher:true,isWordpressXmlFile:false,imageDestination:o.default.CONTENT_ITEM_MAIN_IMAGE};var s=i;t.default=s;e.exports=t.default},13774:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.withCanceledState=t.makeCancelableCallback=t.makeCancelablePromise=void 0;var n=function e(n){var r=false;var t=new Promise(function(t,a){n.then(function(e){return r?a({isCanceled:true}):t(e)},function(e){return a(r?{isCanceled:true}:e)})});return{promise:t,cancel:function e(){r=true}}};t.makeCancelablePromise=n;var r=function e(t){var a=false;var n=function e(){if(!a)return t.apply(void 0,arguments)};n.cancel=function(){a=true};return n};t.makeCancelableCallback=r;var l=function e(t){var l=false;var a=function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l)return;var t=new Promise(function(t,a){n.then(function(e){if(l){r&&a({isCanceled:true});return}t(e)},function(e){if(l){r&&a({isCanceled:true});return}a(e)})});return t};var n=function e(t){var a=function e(){if(!l)return t.apply(void 0,arguments)};a.cancel=function(){l=true};return a};t.cancel=function(){l=true};return n(t({makeCancelablePromise:a,makeCancelableCallback:n}))};t.withCanceledState=l},6944:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(74));var l=n(a(13735));var i=n(a(1698));var s=function e(t,a){if(!t||!a)return null;return t.find(function(e){return e.id===a})};var o=(0,r.default)({getStores:function e(){return[i.default]},getPropsFromStores:function e(){var t=i.default.getState(),a=t.isGalleryContentEditorOpen,n=t.sectionId,r=t.sections;var l=s(r,n);var o=l&&l.galleryOptions&&l.galleryOptions.transientGalleryId;return{isGalleryContentEditorOpen:a,section:l,galleryId:o}}},l.default);t.default=o;e.exports=t.default},7386:function(e,t,a){"use strict";a.r(t);var n=a(889);a.d(t,"default",function(){return n["b"]});a.d(t,"InlineLinkEditor",function(){return n["a"]})}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/async-page-section-gallery-content-2102e4a5d19a54c6505e7-min.en-US.js.map